<div class="d-flex flex-row align-items-center justify-content-between m-2">
  <span class="fw-bold fs-3">
    {{ "selectedDate" | translate }}: {{ selectedDate | date: "dd.MM.YYYY" }}
  </span>
  <i class="fa fa-2x fa-close m-2" (click)="closeModal()"></i>
</div>

<mat-divider class="mb-4"></mat-divider>

<div class="d-flex flex-column p-3">
  @for (student of studentsService.filteredStudents(); track student) {
    <div class="d-flex flex-row align-items-center">
      <i
        class="fa fa-2x fa-circle-info my-2 mx-2"
        placement="right"
        container="body"
        [ngbPopover]="popContentInfo"
        [popoverTitle]="popTitleInfo"
      ></i>
      <i
        class="fa-regular fa-2x fa-note-sticky mx-2"
        (click)="openNotesModal(NOTETYPE.BAD, student)"
      ></i>
      <i class="fa fa-2x fa-edit mx-2" (click)="openModal(student)"></i>

      <ng-template #popTitleInfo>
        {{ "info" | translate }}
      </ng-template>
      <ng-template #popContentInfo>
        <p>
          <b>{{ "emergency" | translate }}</b
          ><br />
          {{ student.info.emergency.name }}<br />
          {{ student.info.emergency.phone }}
        </p>
        <p>
          <b>{{ "departmentHead" | translate }}</b
          ><br />
          {{ student.info.departmentHead.name }}<br />
          {{ student.info.departmentHead.phone }}
        </p>
        <p>
          <b>{{ "sports.sports" | translate }}</b
          ><br />

          @for (sport of student.info.sports; track sport) {
            {{ "sports." + sport | translate }}<br />
          }
        </p>
      </ng-template>

      <span class="mx-3 pointer student" (click)="openModal(student)"
        >{{ student.firstName }} {{ student.lastName }}</span
      >
    </div>
    <hr />
  }
</div>
